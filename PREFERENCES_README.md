# 个人偏好设置功能

## 功能概述

个人偏好设置是合拍Hopa应用的核心功能之一，通过AI引导用户完成一系列偏好问题，为用户提供个性化的共识体验。

## 功能特点

### 1. AI引导式设置
- 通过6个精心设计的偏好问题，全面了解用户的决策风格
- 问题涵盖沟通偏好、冲突处理、反馈机制、价值取向、AI角色和体验偏好
- 每个问题都有明确的分类标签，便于后续的个性化推荐

### 2. 交互式选择
- **词云式选项**：以漂浮式词云的方式展示选项，增强视觉吸引力
- **多选支持**：用户可以选择多个选项，更准确地反映个人偏好
- **自定义输入**：支持用户添加自定义想法，提供更灵活的输入方式
- **实时反馈**：显示已选择的选项，支持删除和修改

### 3. 进度跟踪
- **进度条**：实时显示设置完成进度
- **问题计数**：显示当前问题位置和总问题数
- **百分比显示**：直观的完成度展示

### 4. 导航控制
- **上一个问题**：支持返回修改之前的答案
- **下一个问题**：只有选择至少一个选项才能继续
- **完成设置**：所有问题完成后进入结果页面

## 技术实现

### 页面结构
```
src/pages/
├── preferences.tsx          # 主设置页面
├── preferences.css          # 设置页面样式
├── preferences-complete.tsx # 完成页面
└── preferences-complete.css # 完成页面样式
```

### 状态管理
```
src/context/
└── PreferencesContext.tsx   # 偏好设置上下文
```

### 核心功能
1. **问题管理**：预设6个核心偏好问题
2. **答案收集**：支持多选和自定义输入
3. **状态持久化**：使用Context和localStorage保存数据
4. **路由导航**：支持页面间的无缝跳转

## 使用流程

1. **进入设置**：从个人主页点击"深度个性化"
2. **回答问题**：依次回答6个偏好问题
3. **选择选项**：点击词云中的选项或输入自定义内容
4. **导航控制**：使用上一个/下一个按钮控制进度
5. **完成设置**：查看个性化建议和偏好总结
6. **开始使用**：返回首页或直接发起共识

## 个性化建议

完成设置后，系统会根据用户的偏好提供：

- **沟通风格建议**：推荐最适合的沟通方式
- **AI角色定位**：明确AI在共识过程中的作用
- **反馈机制**：定制化的反馈方式
- **个性化程度**：显示匹配度百分比

## 样式特点

- **主色调**：#ff5a5e（合拍品牌色）
- **动画效果**：词云浮动、卡片悬停、进度条动画
- **响应式设计**：适配不同屏幕尺寸
- **深色模式支持**：自动适配系统主题

## 扩展性

该功能设计具有良好的扩展性：

- **问题扩展**：可以轻松添加新的偏好问题
- **选项定制**：支持动态加载选项内容
- **算法优化**：可以集成更复杂的个性化算法
- **多语言支持**：支持国际化扩展

## 注意事项

1. 用户必须至少选择一个选项才能继续
2. 所有答案都会保存到本地存储
3. 支持随时返回修改之前的答案
4. 完成设置后可以随时重新设置
