# Hopa - Ionic React Android App

> åŸºäº Ionic React æ¡†æ¶çš„ç§»åŠ¨åº”ç”¨ï¼Œä½¿ç”¨ Capacitor å®ç°è·¨å¹³å° Android å¼€å‘

## é¡¹ç›®æ¦‚è¿°

**Hopa** æ˜¯ä¸€ä¸ªç¤¾äº¤ç±»ç§»åŠ¨åº”ç”¨çš„åŸºç¡€æ¡†æ¶ï¼Œé‡‡ç”¨åº•éƒ¨Tabå¯¼èˆªè®¾è®¡ï¼ŒåŒ…å«å››ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ï¼š

- ğŸ  **é¦–é¡µ (Home)** - åº”ç”¨ä¸»å…¥å£
- ğŸ¯ **å…±è¯†åœˆå­ (Group)** - ç¤¾ç¾¤åŠŸèƒ½æ¨¡å—
- ğŸ’¬ **æ¶ˆæ¯ (Message)** - å³æ—¶é€šè®¯æ¨¡å—  
- ğŸ‘¤ **ä¸ªäººä¸»é¡µ (Mine)** - ç”¨æˆ·ä¸ªäººä¸­å¿ƒ

**å½“å‰çŠ¶æ€**: é¡¹ç›®å¤„äºåˆæœŸæ¡†æ¶æ­å»ºé˜¶æ®µï¼Œå·²å®ŒæˆåŸºç¡€å¯¼èˆªç»“æ„å’Œé¡µé¢éª¨æ¶ï¼Œå„åŠŸèƒ½é¡µé¢å¾…å…·ä½“å®ç°ã€‚


## å·¥å…·å‰æ
- Android Studio

  - åŒ…å«å¿…è¦çš„Sdkï¼Œæ¯”å¦‚è‡ªå¸¦çš„emulator

- ionic CLI

  > [å¦‚ä½•å®‰è£… Ionic Framework CLI æ¥æ„å»ºç§»åŠ¨åº”ç”¨ | Ionic ä¸­æ–‡ç½‘](https://ionic.nodejs.cn/intro/cli)

  - `npm install -g @ionic/cli`
  - ä¸»è¦æ˜¯capacitor


## ä½¿ç”¨æµç¨‹
### æµè§ˆå™¨è¿è¡Œ

- åˆ©ç”¨ionicæ„å»ºappæ¡†æ¶

  ```shell
  $ ionic start myApp blank --type=react --c
  $ cd myApp
  ```

- è¿è¡Œ`ionic serve` æˆ– `npm run dev` è¿›è¡Œæµè§ˆå™¨å¼€å‘è°ƒè¯•



### åˆæ¬¡æ„å»ºandroid app

- æ„å»ºWebåº”ç”¨

  ```bash
  $ npm run build  # æ¨èï¼šåŒ…å«TypeScriptæ£€æŸ¥
  # æˆ–
  $ ionic build
  ```

  

- ç„¶ååˆ›å»ºandroidé¡¹ç›®

  ```bash
  $ ionic cap add android
  ```

  - æ¯æ¬¡æ‰§è¡Œæ›´æ–°ä½ çš„ Web ç›®å½•çš„æ„å»ºï¼ˆä¾‹å¦‚ `ionic build`ï¼‰æ—¶ï¼ˆé»˜è®¤ï¼š`build`)ï¼Œä½ éœ€è¦å°†è¿™äº›æ›´æ”¹å¤åˆ¶åˆ°ä½ çš„åŸç”Ÿé¡¹ç›®ä¸­ï¼š

    ```bash
    ionic cap copy
    ```

  - æ³¨æ„ï¼šæ›´æ–°ä»£ç çš„åŸç”Ÿéƒ¨åˆ†ï¼ˆä¾‹å¦‚æ·»åŠ æ–°æ’ä»¶ï¼‰åï¼Œä½¿ç”¨ `sync` å‘½ä»¤

    ```bash
    ionic cap sync
    ```



### å®‰å“é…ç½®

- é¦–å…ˆï¼Œè¿è¡Œ Capacitor `open` å‘½ä»¤ï¼Œè¿™ä¼šåœ¨ Android Studio ä¸­æ‰“å¼€åŸç”Ÿ Android é¡¹ç›®

```bash
ionic cap open android
```

- éšååœ¨Android Studioä¸­ï¼Œå…ˆé€‰æ‹©å³ä¾§çš„Running Devicesï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€èˆ¬å¯åŠ¨è‡ªå¸¦çš„Medium Phone 36 APIï¼Œåœ¨å³ä¾§ä¼šçœ‹åˆ°ä¸€ä¸ªæ‰‹æœºæ¨¡æ‹Ÿå™¨å¯åŠ¨
- ç„¶åç‚¹å‡»è¿è¡ŒæŒ‰é’®ï¼Œç¼–è¯‘è¿è¡ŒæˆåŠŸåä¾¿å¯ä»¥åœ¨å³ä¾§æ¨¡æ‹Ÿå™¨ä¸­çœ‹åˆ°å…ˆå‰çš„web appçš„é€‚åº”ç‰ˆ



å®é™…ä¸Šï¼Œåˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå·²ç»å¯ä»¥è¿›è¡ŒåŸºäºreactçš„å®‰å“appå¼€å‘äº†


### å®æ—¶é‡è½½

> [é€šè¿‡å®æ—¶é‡æ–°åŠ è½½è¿›è¡Œå¿«é€Ÿåº”ç”¨å¼€å‘ | Ionic ä¸­æ–‡ç½‘](https://ionic.nodejs.cn/react/your-first-app/live-reload)
>
> [ç¦»å­ç”µå®¹å™¨è¿è¡Œ | Ionic æ¡†æ¶ --- ionic capacitor run | Ionic Framework](https://ionicframework.com/docs/cli/commands/capacitor-run)
>
> **å®Œç¾è§£å†³æ–¹æ¡ˆå‚è€ƒ**ï¼š[Capacitoré¡¹ç›®Android/iOSå®æ—¶é‡è½½åŠŸèƒ½çš„ä½¿ç”¨æŠ€å·§ - GitCodeåšå®¢](https://blog.gitcode.com/f0663aae3ad8fb25b9f08fc4d95ad101.html)



- åœ¨åŸå·¥ä½œç›®å½•æ‰§è¡Œ

  ```shell
  ionic cap run android --open -l --external  
  ```

  Live Reload æœåŠ¡å™¨å°†å¯åŠ¨ï¼Œå¹¶ä¸”é€‰æ‹©çš„åŸç”Ÿ IDEï¼ˆå¦‚æœå°šæœªæ‰“å¼€ï¼‰å°†æ‰“å¼€ã€‚åœ¨ IDE ä¸­ï¼Œå•å‡»â€œæ’­æ”¾â€æŒ‰é’®å°†åº”ç”¨å¯åŠ¨åˆ°ä½ çš„è®¾å¤‡ä¸Š

- **å°é—®é¢˜1ï¼šNo device or emulatorã€æ‰¾ä¸åˆ°è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ã€‘**

  - å…³é”®ï¼šemulatoræ‰§è¡Œç¨‹åºå¹¶æ²¡æœ‰è‡ªåŠ¨å†™åœ¨ç³»ç»Ÿå˜é‡å½“ä¸­ï¼Œè¯·ä½ æ‰¾åˆ°ä½ å­˜æ”¾Android Sdkä¸­çš„emulator.exeçš„æ–‡ä»¶å¤¹`XX/Android/Sdk/emulator`,å¹¶æ·»åŠ åˆ°ç³»ç»ŸPathå˜é‡å½“ä¸­ã€‚è¿™æ ·ä¸Šé¢çš„æŒ‡ä»¤æ‰èƒ½è‡ªåŠ¨æ‰¾åˆ°å·²æœ‰çš„æ¨¡æ‹Ÿå™¨

- å°é—®é¢˜2ï¼šå®æ—¶è¿è¡Œèµ·æ¥çš„æ¨¡æ‹Ÿå™¨æ— æ³•è®¿é—®é‡è½½æœåŠ¡å™¨ä¸Šçš„å†…å®¹~~ã€å¾…è§£å†³ã€‘~~ã€å·²è§£å†³ã€‘

  > ç›´æ¥è¿è¡Œä¸Šé¢çš„æŒ‡ä»¤ï¼Œä¼šå¯åŠ¨æœ€ç®€åŒ–ç‰ˆæœ¬çš„emulatorï¼Œå­˜åœ¨å„ç§é…ç½®é—®é¢˜ï¼ŒåŒ…æ‹¬ADBã€ç½‘ç»œé…ç½®ç­‰ç­‰é—®é¢˜ï¼Œä½†æ˜¯æŒ‰ç…§ä»¥ä¸‹çš„æ–¹å¼è¿›è¡Œå…ˆopenå†livereloadçš„æ“ä½œï¼Œå°±å¯ä»¥ä¾èµ–äºAndroid Studioæœ¬èº«çš„å†…éƒ¨é…ç½®ï¼Œé¿å…è¿™äº›ç»†ç¢çš„é—®é¢˜
  
  > å¦‚æœè¿˜æ˜¯è¿ä¸ä¸Šï¼Œå¯èƒ½æ˜¯VPNå¯¼è‡´çš„è¿æ¥é—®é¢˜



## æ¶æ„è¯´æ˜

### è¯¦ç»†é¡¹ç›®ç»“æ„

```
Hopa-android/
â”œâ”€â”€ ğŸ“ src/                           # Reactæºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“„ App.tsx                   # åº”ç”¨ä¸»å…¥å£ï¼Œé…ç½®Tabå¯¼èˆª
â”‚   â”œâ”€â”€ ğŸ“„ main.tsx                  # Reactåº”ç”¨å¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ pages/                    # å››ä¸ªä¸»è¦é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ home.tsx/.css        # é¦–é¡µ (å½“å‰ä¸ºç©ºç™½æ¨¡æ¿)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ group.tsx/.css       # å…±è¯†åœˆå­é¡µé¢ (å½“å‰ä¸ºç©ºç™½æ¨¡æ¿)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ message.tsx/.css     # æ¶ˆæ¯é¡µé¢ (å½“å‰ä¸ºç©ºç™½æ¨¡æ¿)
â”‚   â”‚   â””â”€â”€ ğŸ“„ mine.tsx/.css        # ä¸ªäººä¸»é¡µ (å½“å‰ä¸ºç©ºç™½æ¨¡æ¿)
â”‚   â”œâ”€â”€ ğŸ“ components/               # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ ExploreContainer.tsx  # å ä½ç»„ä»¶ (å¼€å‘é˜¶æ®µä½¿ç”¨)
â”‚   â””â”€â”€ ğŸ“ theme/                    # ä¸»é¢˜æ ·å¼é…ç½®
â”‚       â””â”€â”€ ğŸ“„ variables.css         # Ionicä¸»é¢˜å˜é‡
â”‚
â”œâ”€â”€ ğŸ“ android/                       # AndroidåŸç”Ÿé¡¹ç›® (Capacitorç”Ÿæˆ)
â”‚   â”œâ”€â”€ ğŸ“ app/src/main/             # Androidåº”ç”¨æºç 
â”‚   â”‚   â”œâ”€â”€ ğŸ“ assets/               # Webæ„å»ºäº§ç‰© (è‡ªåŠ¨åŒæ­¥)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AndroidManifest.xml   # Androidåº”ç”¨é…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“ java/io/ionic/starter/ # MainActivityå…¥å£
â”‚   â”œâ”€â”€ ğŸ“„ build.gradle              # Androidæ„å»ºé…ç½®
â”‚   â””â”€â”€ ğŸ“„ gradlew                   # GradleåŒ…è£…å™¨
â”‚
â”œâ”€â”€ ğŸ“ public/                        # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ“„ favicon.png               # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ ğŸ“„ manifest.json             # PWAé…ç½®
â”‚
â”œâ”€â”€ ğŸ“ dist/                          # Viteæ„å»ºè¾“å‡º (Capacitor webDir)
â”œâ”€â”€ ğŸ“ cypress/                       # E2Eæµ‹è¯•
â”‚   â””â”€â”€ ğŸ“ e2e/test.cy.ts           # æµ‹è¯•ç”¨ä¾‹
â”‚
â”œâ”€â”€ ğŸ“„ capacitor.config.ts           # Capacitoré…ç½® (appId: io.ionic.starter)
â”œâ”€â”€ ğŸ“„ ionic.config.json             # Ionicé¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ vite.config.ts                # Viteæ„å»ºå·¥å…·é…ç½®
â”œâ”€â”€ ğŸ“„ package.json                  # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â””â”€â”€ ğŸ“„ tsconfig.json                 # TypeScripté…ç½®
```

### æŠ€æœ¯æ ˆ

#### å‰ç«¯æ¡†æ¶å±‚
- **React 19.0.0**: æ ¸å¿ƒUIæ¡†æ¶ï¼Œé‡‡ç”¨å‡½æ•°å¼ç»„ä»¶å’ŒHooks
- **TypeScript 5.1.6**: æä¾›ç±»å‹å®‰å…¨å’Œæ›´å¥½çš„å¼€å‘ä½“éªŒ
- **Vite 5.2.0**: ç°ä»£åŒ–çš„æ„å»ºå·¥å…·ï¼Œæä¾›å¿«é€Ÿçš„å¼€å‘æœåŠ¡å™¨å’Œæ„å»ºä¼˜åŒ–

#### UIç»„ä»¶åº“
- **Ionic React 8.5.0**: ç§»åŠ¨ç«¯UIç»„ä»¶åº“ï¼Œæä¾›åŸç”Ÿçº§åˆ«çš„ç”¨æˆ·ä½“éªŒ
- **Material-UI 7.3.1**: è¾…åŠ©UIç»„ä»¶åº“ï¼Œç”¨äºå›¾æ ‡å’Œé«˜çº§ç»„ä»¶ã€ä¸»è¦ã€‘
- **Ionicons 7.4.0**: Ionicå®˜æ–¹å›¾æ ‡åº“

#### è·¯ç”±ä¸å¯¼èˆª
- **React Router 5.3.4**: å®¢æˆ·ç«¯è·¯ç”±ç®¡ç†
- **Ionic React Router**: Ionicé›†æˆçš„è·¯ç”±è§£å†³æ–¹æ¡ˆ
- **åº•éƒ¨Tabå¯¼èˆª**: ä½¿ç”¨Material-UIå›¾æ ‡çš„å››Tabè®¾è®¡

#### æµ‹è¯•æ¡†æ¶
- **Vitest**: å•å…ƒæµ‹è¯• (`npm run test.unit`)
- **Cypress**: E2Eæµ‹è¯• (`npm run test.e2e`)
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥ (`npm run lint`)

#### å¼€å‘å·¥å…·
- **Android Studio**: Androidå¼€å‘IDE
- **Capacitor 7.4.2**: åŸç”Ÿå¹³å°æ¡¥æ¥
- **Live Reload**: å®æ—¶é‡è½½æ”¯æŒAndroidè°ƒè¯•

## å¸¸ç”¨å¼€å‘å‘½ä»¤

```bash
# å¼€å‘è°ƒè¯•
npm run dev                              # æµè§ˆå™¨å¼€å‘æœåŠ¡å™¨
npm run build                            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run lint                             # ä»£ç æ£€æŸ¥

# æµ‹è¯•
npm run test.unit                        # å•å…ƒæµ‹è¯•
npm run test.e2e                         # E2Eæµ‹è¯•

# Androidå¼€å‘
npm run build                            # 1. æ„å»ºWebåº”ç”¨
ionic cap sync                           # 2. åŒæ­¥åˆ°Androidé¡¹ç›®
ionic cap run android --open -l --external  # 3. Androidå®æ—¶é‡è½½
ionic cap open android                  # æ‰“å¼€Android Studio
```

## å½“å‰å¼€å‘çŠ¶æ€

âœ… **å·²å®Œæˆ**:
- åŸºç¡€é¡¹ç›®ç»“æ„æ­å»º
- å››ä¸ªä¸»è¦é¡µé¢æ¡†æ¶ (home/group/message/mine)
- åº•éƒ¨Tabå¯¼èˆªé…ç½® (ä½¿ç”¨Material-UIå›¾æ ‡)
- Androidå¹³å°é›†æˆ
- å¼€å‘ç¯å¢ƒé…ç½® (Vite + TypeScript + ESLint)
- æµ‹è¯•æ¡†æ¶é…ç½® (Vitest + Cypress)

ğŸš§ **å¼€å‘ä¸­**:
- å„é¡µé¢å…·ä½“åŠŸèƒ½å®ç° (å½“å‰ä¸ºExploreContainerå ä½)
- UIæ ·å¼è®¾è®¡
- ä¸šåŠ¡é€»è¾‘å¼€å‘

ğŸ“‹ **å¾…å¼€å‘**:
- é¦–é¡µå†…å®¹å’Œäº¤äº’
- å…±è¯†åœˆå­åŠŸèƒ½æ¨¡å—
- æ¶ˆæ¯ç³»ç»Ÿå®ç°
- ä¸ªäººä¸­å¿ƒåŠŸèƒ½
- æ•°æ®ç®¡ç†æ–¹æ¡ˆ
- APIæ¥å£é›†æˆ